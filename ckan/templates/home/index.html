{% extends "page.html" %}

{% block subtitle %}{{ _("Welcome") }}{% endblock %}

{% block maintag %}{% endblock %}
{% block toolbar %}{% endblock %}

{% block content %}
<div class="homepage-modern">
  <div id="content" class="container">
    {{ self.flash() }}
  </div>

  {% block primary_content %}
  <div role="main">

    {# Hero Banner Section #}
    <div class="hero-banner">
      <div class="hero-background">
        <div class="hero-gradient"></div>
        <div class="hero-pattern"></div>
      </div>

      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            {% block hero_title %}
            {{ _("Discover Singapore's Open Data") }}
            {% endblock %}
          </h1>
          <p class="hero-subtitle">
            {% block hero_subtitle %}
            {{ _("Access thousands of datasets from government agencies. Explore, analyze, and build innovative solutions with open data.") }}
            {% endblock %}
          </p>

          {# Hero Search #}
          <div class="hero-search-area">
            {% set dataset_type = h.default_package_type() %}
            <form class="hero-search-form" method="get" action="{{ h.url_for(dataset_type ~ '.search') }}">
              <input
                type="text"
                class="hero-search-input"
                name="q"
                placeholder="{{ _('What data are you looking for?') }}"
                autocomplete="off"
              />
              <button type="submit" class="hero-search-button">
                {{ _('Search') }}
              </button>
            </form>

            {# Quick links #}
            {% set tags = h.get_facet_items_dict('tags', search_facets, limit=5) %}
            {% if tags %}
            <div class="quick-links">
              <span>{{ _('Popular:') }}</span>
              {% for tag in tags %}
                <a href="{{ h.url_for('dataset.search', tags=tag.name) }}">{{ tag.display_name }}</a>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>

        {# Hero Stats #}
        <div class="hero-stats">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fa fa-database"></i>
            </div>
            <div class="stat-content">
              <div class="stat-number">0</div>
              <div class="stat-label">{{ _('Datasets') }}</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">
              <i class="fa fa-building"></i>
            </div>
            <div class="stat-content">
              <div class="stat-number">0</div>
              <div class="stat-label">{{ _('Agencies') }}</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">
              <i class="fa fa-tags"></i>
            </div>
            <div class="stat-content">
              <div class="stat-number">0</div>
              <div class="stat-label">{{ _('Topics') }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {# Statistics Dashboard #}
    <div class="stats-dashboard">
      <div class="container">
        <h2 class="section-title">{{ _('Platform Statistics') }}</h2>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-database"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('Total Datasets') }}</div>
              <div class="stat-item-desc">{{ _('Available for download') }}</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-building"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('Government Agencies') }}</div>
              <div class="stat-item-desc">{{ _('Contributing data') }}</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-download"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('Total Downloads') }}</div>
              <div class="stat-item-desc">{{ _('This month') }}</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-users"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('Active Users') }}</div>
              <div class="stat-item-desc">{{ _('Registered members') }}</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-file-text"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('API Calls') }}</div>
              <div class="stat-item-desc">{{ _('Last 24 hours') }}</div>
            </div>
          </div>

          <div class="stat-item">
            <div class="stat-item-icon">
              <i class="fa fa-tags"></i>
            </div>
            <div class="stat-item-content">
              <div class="stat-item-number">0</div>
              <div class="stat-item-label">{{ _('Categories') }}</div>
              <div class="stat-item-desc">{{ _('Data topics') }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {# Featured Datasets #}
    <div class="featured-datasets">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">{{ _('Featured Datasets') }}</h2>
          <a href="{{ h.url_for('dataset.search') }}" class="view-all-link">
            {{ _('View All Datasets') }}
            <i class="fa fa-arrow-right"></i>
          </a>
        </div>

        <div class="datasets-grid">
          {# Dataset Card 1 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-chart-line"></i>
              </div>
              <span class="dataset-badge">{{ _('Popular') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Population Demographics') }}</h3>
            <p class="dataset-description">
              {{ _('Comprehensive demographic data including age, gender, ethnicity, and residential distribution across Singapore.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Statistics Dept') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('1.2K downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Demographics') }}</span>
              <span class="dataset-tag">{{ _('Population') }}</span>
            </div>
          </div>

          {# Dataset Card 2 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-heartbeat"></i>
              </div>
              <span class="dataset-badge dataset-badge-new">{{ _('New') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Healthcare Facilities') }}</h3>
            <p class="dataset-description">
              {{ _('Locations and details of hospitals, clinics, and healthcare centers with capacity and services information.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Health Ministry') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('856 downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Healthcare') }}</span>
              <span class="dataset-tag">{{ _('Facilities') }}</span>
            </div>
          </div>

          {# Dataset Card 3 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-bus"></i>
              </div>
              <span class="dataset-badge">{{ _('Updated') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Public Transport Data') }}</h3>
            <p class="dataset-description">
              {{ _('Real-time and historical data on bus routes, MRT lines, schedules, and passenger traffic patterns.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Transport Authority') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('2.5K downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Transport') }}</span>
              <span class="dataset-tag">{{ _('Real-time') }}</span>
            </div>
          </div>

          {# Dataset Card 4 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-graduation-cap"></i>
              </div>
              <span class="dataset-badge">{{ _('Popular') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Education Statistics') }}</h3>
            <p class="dataset-description">
              {{ _('School enrollment, performance metrics, and educational outcomes across primary to tertiary levels.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Education Ministry') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('1.8K downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Education') }}</span>
              <span class="dataset-tag">{{ _('Statistics') }}</span>
            </div>
          </div>

          {# Dataset Card 5 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-home"></i>
              </div>
              <span class="dataset-badge dataset-badge-new">{{ _('New') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Housing & Property') }}</h3>
            <p class="dataset-description">
              {{ _('HDB resale prices, rental rates, and property transaction data with historical trends and forecasts.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Housing Board') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('3.1K downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Housing') }}</span>
              <span class="dataset-tag">{{ _('Property') }}</span>
            </div>
          </div>

          {# Dataset Card 6 #}
          <div class="dataset-card">
            <div class="dataset-card-header">
              <div class="dataset-icon">
                <i class="fa fa-cloud"></i>
              </div>
              <span class="dataset-badge">{{ _('Updated') }}</span>
            </div>
            <h3 class="dataset-title">{{ _('Weather & Climate') }}</h3>
            <p class="dataset-description">
              {{ _('Historical weather data, climate patterns, rainfall measurements, and temperature records.') }}
            </p>
            <div class="dataset-meta">
              <span class="dataset-meta-item">
                <i class="fa fa-building"></i>
                {{ _('Meteorological Service') }}
              </span>
              <span class="dataset-meta-item">
                <i class="fa fa-download"></i>
                {{ _('945 downloads') }}
              </span>
            </div>
            <div class="dataset-tags">
              <span class="dataset-tag">{{ _('Weather') }}</span>
              <span class="dataset-tag">{{ _('Climate') }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  {% endblock %}
</div>
{% endblock %}
